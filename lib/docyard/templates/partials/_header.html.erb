<header class="header">
  <div class="header-content">
    <a href="<%= link_path('/') %>" class="header-logo">
      <% if @has_custom_logo %>
      <div class="site-logo-container">
        <img src="<%= asset_path(@logo) %>" alt="<%= @site_title %>" class="site-logo site-logo-light">
        <% if @logo_dark %>
        <img src="<%= asset_path(@logo_dark) %>" alt="<%= @site_title %>" class="site-logo site-logo-dark">
        <% else %>
        <img src="<%= asset_path(@logo) %>" alt="<%= @site_title %>" class="site-logo site-logo-dark">
        <% end %>
      </div>
      <% else %>
      <span class="header-title"><%= @site_title %></span>
      <% end %>
    </a>

    <% if @search_enabled %>
    <div class="header-center">
      <%= render_partial('_search_trigger') %>
    </div>
    <% end %>

    <div class="header-actions">
      <% if @header_ctas&.any? %>
      <div class="header-ctas">
        <% @header_ctas.sort_by { |cta| cta[:variant] == 'secondary' ? 0 : 1 }.each do |cta| %>
        <a href="<%= cta[:external] ? cta[:href] : link_path(cta[:href]) %>"
           class="header-cta header-cta--<%= cta[:variant] || 'primary' %>"
           <%= 'target="_blank" rel="noopener noreferrer"' if cta[:external] %>>
          <%= cta[:text] %>
          <% if cta[:variant] != 'secondary' %>
          <svg class="header-cta-arrow" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M9 5l7 7-7 7"/>
          </svg>
          <% end %>
        </a>
        <% end %>
      </div>
      <% end %>
      <%= render_partial('_theme_toggle') %>
      <% if @has_tabs %>
      <button class="nav-menu-btn" id="navMenuBtn" aria-label="Toggle navigation menu" aria-expanded="false">
        <%= icon(:equals) %>
      </button>
      <% end %>
    </div>
  </div>
</header>
